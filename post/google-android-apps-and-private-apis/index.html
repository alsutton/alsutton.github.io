<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme="dark"
><head>
  <title>
    Al Sutton
      |
      Google, Android, and Private APIs.


    

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.89.4" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta
    name="description"
    content="
      


    "
  />
  
  
  
  <link
    rel="stylesheet"
    href="/css/main.min.51423ad97099a08f3a20e16d238c13adae76db7dd5e1913789bdc81143ff4cc6.css"
    integrity="sha256-UUI62XCZoI86IOFtI4wTra52233V4ZE3ib3IEUP/TMY="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css"
    integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS&#43;yuWSR4="
    crossorigin="anonymous"
    type="text/css"
  />
  
    
    
    <link
      rel="stylesheet"
      href="/css/center-image.min.a5cbbd5753ebe48351a006c534a28178d184393f85aed1a6ab256ec7d724af63.css"
      integrity="sha256-pcu9V1Pr5INRoAbFNKKBeNGEOT&#43;FrtGmqyVux9ckr2M="
      crossorigin="anonymous"
      media="screen"
    />

  
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
    crossorigin="anonymous"
  />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <link rel="canonical" href="/post/google-android-apps-and-private-apis/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.2a2cd9614b7d007dfbb75e8da19e3a0fa872ceab53c6d000c00b7a0c89b85bfc.js"
    integrity="sha256-KizZYUt9AH37t16NoZ46D6hyzqtTxtAAwAt6DIm4W/w="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js"
      integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus="
      crossorigin="anonymous"
    ></script>

  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Google, Android, and Private APIs."/>
<meta name="twitter:description" content="[Declaration of interest: My company runs AndAppStore, an alternative to Googles Android Market]
Theres been a fair amount of talk around Googles use of &ldquo;Private APIs&rdquo; in their Android applications since the Andy Rubin interview which appeared in the NY Times Bits blog, and I&rsquo;d like to point out what appears to be a glaring mistake in one of the replies Andy gave.
During the interview he said;
I don&rsquo;t know whether he said this because he doesn&rsquo;t know about what&rsquo;s in some of Googles Android applications, or whether he was towing a party line about Androids&#39; open source nature, but that statement simply isn&rsquo;t true."/>



  
</head>
<body>
    <header><div
  class="page-top 
    .

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
  </a>
  <nav>
    <ul class="nav__list" id="navMenu">
      <div class="nav__links">
        
        
          
          <li>
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>

        
          
          <li>
            <a
              
              href="/post/"
              
              title=""
              >Posts</a
            >
          </li>

        
          
          <li>
            <a
              
              href="https://github.com/alsutton"
              
                target="_blank" rel="noopener noreferrer"

              
              title=""
              >Projects</a
            >
          </li>

        
        
      </div>
      <li>
        
          <a class="theme-switch" title="Switch Theme">
            <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
          </a>

        
      </li>
    </ul>
  </nav>
</div>
</header>
    <div class="wrapper">
      <aside><div
  class="sidebar
    .

  "
>
  <div class="sidebar__content">
    <div class="logo-title">
      <div class="title">
        <img src="/images/profile.jpeg" alt="profile picture" />
        <h3 title=""><a href="/">Al Sutton</a></h3>
        <div class="description">
          <p></p>
        </div>
      </div>
    </div>
    <ul class="social-links">
      
        <li>
          <a href="https://www.linkedin.com/in/alsutton/" rel="me" aria-label="Linkedin">
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li>
          <a href="https://github.com/alsutton" rel="me" aria-label="GitHub">
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li>
          <a href="https://www.alsutton.blog/index.xml" rel="me" aria-label="RSS">
            <i class="fas fa-rss fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
    </ul>
  </div><footer class="footer footer--sidebar">
  <div class="by_farbox">
    <ul class="footer__list">
      <li class="footer__item">
        &copy;
        
          Al Sutton
          2021


        
      </li>
      
    </ul>
  </div>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js"
    integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I="
    crossorigin="anonymous"
  ></script></div>
</aside>
      <main>
        <div class="autopagerize_page_element">
          <div class="content">
  <div
    class="post 
      .

    "
  >
    <div class="post-content">
      
      <div class="post-title">
        <h1>Google, Android, and Private APIs.</h1>
        
          <div class="info">
            <em class="fas fa-calendar-day"></em>
            <span class="date"
              >
                Fri, May 7, 2010


              </span
            >
            <em class="fas fa-stopwatch"></em>
            <span class="reading-time">3-minute read</span>
          </div>

        
      </div><p><em>[Declaration of interest: My company runs <a href="http://andappstore.com/">AndAppStore</a>, an alternative to Googles Android Market]</em></p>
<p>Theres been a fair amount of talk around Googles use of &ldquo;Private APIs&rdquo; in their Android applications since the <a href="http://bits.blogs.nytimes.com/2010/04/27/googles-andy-rubin-on-everything-android/">Andy Rubin interview which appeared in the NY Times Bits blog</a>, and I&rsquo;d like to point out what appears to be a glaring mistake in one of the replies Andy gave.</p>
<p>During the interview he said;</p>
<!-- raw HTML omitted -->
<p>I don&rsquo;t know whether he said this because he doesn&rsquo;t know about what&rsquo;s in some of Googles Android applications, or whether he was towing a party line about Androids' open source nature, but that statement simply isn&rsquo;t true.</p>
<p>If you look at Android Market, an application which <a href="http://www.cyanogenmod.com/home/the-current-state">Google have gone to great lengths to point out isn&rsquo;t part of the Android OS</a>, you&rsquo;ll see at least one glaring example of the use an API which isn&rsquo;t available to third parties and hence, to me, is a clear example of a &ldquo;Private API&rdquo;.</p>
<p>When a user installs an application via Android Market they&rsquo;re shown the permissions an application needs, then, if the user agrees to give the application those permissions, Market downloads and installs the application without asking the user to confirm the permissions again. Third party markets are forced to use the Android package installer which requires them to download the application and then requires the user to confirm the downloaded applications requested permissions.</p>
<p>This leaves third party markets with two user experience choices; Either the user is shown the applications requested permissions twice (initially by the market alternative prior to download, then again by the package installer as part of the installation process), or the third party market must download the whole application and pass a pointer to it to the package installer at which point the user is shown the requested permissions (which could involve a several megabyte download over a cellular network for something the user may end up not wanting to use). Neither one is as slick or user friendly as the mechanism open to Market via the private APIs it has access to.</p>
<p>One reason this example is important is that Google actually <strong>removed</strong> the public API for package installation. If you look at the <a href="http://developer.android.com/sdk/android-1.6.html">headline changes between the Android 1.5 and Android 1.6 APIs</a> you&rsquo;ll see no mention of any changes around package handling, it&rsquo;s only when you go into the <a href="http://developer.android.com/sdk/api_diff/4/changes.html">API differences report</a> and drill into the <em>android.content.pm</em> package you&rsquo;ll see the package installation methods were removed and weren&rsquo;t replaced with anything providing similar functionality.</p>
<p>So essentially Google took the installation API from public to private between Android 1.5 and 1.6.</p>
<p>The package installation API had &ldquo;openness issues&rdquo; prior to it&rsquo;s removal in 1.6 because to use it you&rsquo;d need the approval of the carrier, device OEM, or whomever created the firmware of the device, thus rendering it unusable by most third party markets. This could arguably be interpreted as the API being private from its' first appearance in Android and that the removal from the SDK was simply confirmation of this.</p>
<p>But, no matter how you look at it&rsquo;s prior status, the fact is that Google Android Market for Android 1.6 and later clearly uses a private API and so, in my view, Andy Rubin was clearly wrong.</p>
<p><em>To me this is the most prominent example I&rsquo;ve found of Google using private APIs in their Android apps, feel free to share more examples.</em></p>
</div>
    <div class="post-footer">
      <div class="info">
        
          <span class="separator"><a class="category" href="/categories/Android/">Android</a></span>




        

        
      </div>
    </div>

    
  </div>


          </div>
        </div>
      </main>
    </div><footer class="footer footer--base">
  <div class="by_farbox">
    <ul class="footer__list">
      <li class="footer__item">
        &copy;
        
          Al Sutton
          2021


        
      </li>
      
    </ul>
  </div>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js"
    integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I="
    crossorigin="anonymous"
  ></script></body>
</html>
